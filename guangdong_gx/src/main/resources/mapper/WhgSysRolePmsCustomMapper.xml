<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.creatoo.hn.dao.mapper.WhgSysRolePmsMapper">

	<!-- 批量插入权限表 -->
	<insert id="batchInsert" parameterType="java.util.List">
		INSERT INTO whg_sys_role_pms (id, crtdate, crtuser, state, statemdfdate, statemdfuser, delstate, roleid, pmsstr)
		VALUES
		<foreach collection="list" item="item" index="index" separator="," >
			(#{item.id}, #{item.crtdate}, #{item.crtuser}, #{item.state}, #{item.statemdfdate}, #{item.statemdfuser}, #{item.delstate}, #{item.roleid}, #{item.pmsstr})
		</foreach>
	</insert>

	<select id="srchRoleList" resultType="hashmap">
		SELECT r.*
		FROM whg_sys_user_cult_role r ,whg_sys_user_cult t
		WHERE 1=1 AND t.id= r.refid

		<if test="name != null and name != ''">
			AND t.name like "%"#{name}"%"
		</if>

		<if test="cultid != null">
			AND t.cultid = #{cultid}
		</if>
		<if test="userid != null">
			AND t.userid = #{userid}
		</if>

	</select>


</mapper>